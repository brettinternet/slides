<!doctype html><html lang=en><head><meta charset=utf-8><title>Self-hosted</title><meta name=apple-mobile-web-app-capable content="yes"><meta name=apple-mobile-web-app-status-bar-style content="black-translucent"><meta name=viewport content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no"><link rel=stylesheet href=/slides/reveal-js/css/reset.css><link rel=stylesheet href=/slides/reveal-js/css/reveal.css><link rel=stylesheet href=/slides/reveal-js/css/theme/moon.css id=theme><link rel=stylesheet href=/slides/highlight-js/solarized-dark.min.css><link rel=icon type=image/x-icon href=/favicon.ico><link rel=stylesheet href=/slides/styles/main.css><link rel=stylesheet href=https://brettinternet.com/slidesplugins/chalkboard.css></head><body><div class=reveal><div class=slides><section><section data-shortcode-section><h2 id=bare-metal-servers>Bare-metal servers</h2><img src=./bookcover.jpg alt="server bookcover" height=300px><h2 id=in-the-laundry-room>in the laundry room</h2><aside class=notes><p>Nevermind the clickbait title, in my opinion the &ldquo;Homelab&rdquo; also
applies to cloud services that you run yourself.</p><p>It&rsquo;s hard to tailor this topic to a wide audience with a variety of experiences,
so I&rsquo;ll touch on various ideas and leave it up to you to explore the rest.</p><p>I really want what I present to be actionable instead of theoretical. This is
from the perspective of a hobbyist, instead of a professional, although I
believe the both support each other.</p><p>Working agreement: you can interrupt me as we go or even shout vulgarities if
you&rsquo;d like.</p></aside></section><section><h2 id=poll>Poll</h2><div class=fragment <blockquote></blockquote><p>Who self-hosts an application <em>locally</em>?</p></div><div class=fragment <blockquote></blockquote><p>Who self-hosts an application <em>in the cloud</em>?</p></div><div class=fragment <blockquote></blockquote><p>Why is this relevant?</p></div></section><section><h2 id=demo>Demo</h2><p><a href=https://livebook.brett.pw>https://livebook.brett.pw</a></p></section></section><section><section data-shortcode-section><h2 id=hardware>Hardware</h2><img src=./optiplex.webp width=600 alt="dell optiplex"><aside class=notes><p>From 2009 I think? Start using it in 2015. There&rsquo;s veteran blood in
the room with a few of you being sysadmins - <strong>Has anyone self-hosted on <em>older</em>
hardware than this?</strong></p></aside></section><section><img src=raspberrypi.png alt="Raspberry Pi" height=500px><p>$35</p><aside class=notes><p>Enough compute in the palm of your hand to make a desktop for
Grandma to run Facebook on.</p></aside></section><section data-noprocess data-shortcode-slide data-background-image=pico-cluster.jpg></section><section data-noprocess data-shortcode-slide data-background-iframe=https://www.hardkernel.com></section><section data-noprocess data-shortcode-slide data-background-iframe=https://www.fractal-design.com/products/cases/node/node-804/></section><section data-noprocess data-shortcode-slide data-background-image=supermicro.png></section><section><img src=./hba.jpg width=600px alt="HBA PCI card"><ul><li>Dell Perc H310</li><li>LSI 9211-8i IT mode (bypass hardware RAID)</li></ul></section></section><section><section data-shortcode-section><h2 id=devops>Devops</h2></section><section><img src=proxmox.png alt="Proxmox dashboard" width=800px></section><section><pre><code class=language-sh>APP=$(cat &lt;&lt;-END
while true; do
  echo -e 'HTTP/1.1 200 OK\n\n $(date)' | nc -l -p 3000
done
END
)
docker run --rm --name simple -p 3000:3000 busybox sh -c &quot;$APP&quot;
</code></pre><aside class=notes><p>Here is out app - We&rsquo;re using netcat to listen to TCP connects on a port and
reply with a <em>very</em> simple HTTP response.</p></aside></section><section><img src=docker-compose.png alt="yaml code" width=200px><p><a href=https://github.com/brettinternet/docker-compose-hosted-demo>brettinternet/docker-compose-hosted-demo</a></p></section><section><blockquote class=twitter-tweet><p lang=en dir=ltr>Deployed my blog on Kubernetes <a href=https://t.co/XHXWLrmYO4>pic.twitter.com/XHXWLrmYO4</a></p>&mdash; dex (@dexhorthy) <a href="https://twitter.com/dexhorthy/status/856639005462417409?ref_src=twsrc%5Etfw">April 24, 2017</a></blockquote><script async src=https://platform.twitter.com/widgets.js></script></section><section><p>Self-hosted K8s tooling</p><div class=fragment <blockquote></blockquote><ul><li><a href=https://metallb.universe.tf/>metallb</a>: bare-metal service
LoadBalancer</li></ul></div><div class=fragment <blockquote></blockquote><ul><li><a href=https://fluxcd.io/flux/>Flux</a>: gitops</li></ul></div><div class=fragment <blockquote></blockquote><ul><li><a href=https://github.com/mozilla/sops>sops</a>: secrets in git</li></ul></div><div class=fragment <blockquote></blockquote><ul><li><a href=https://github.com/stakater/Reloader>reloader</a>: upgrade pod when
config/secret changes</li></ul></div><div class=fragment <blockquote></blockquote><ul><li><a href=https://github.com/rancher/system-upgrade-controller>system-upgrade-controller</a>:
planned node upgrades</li></ul></div><div class=fragment <blockquote></blockquote><ul><li><a href=https://github.com/kubereboot/kured>kured</a>: reboot daemon</li></ul></div><div class=fragment <blockquote></blockquote><p>Starting point: <a href=https://github.com/onedr0p/flux-cluster-template>https://github.com/onedr0p/flux-cluster-template</a></p><p><a href=https://k8s-at-home.com/>k8s@home Discord</a></p></div></section></section><section data-shortcode-section><section data-noprocess data-shortcode-slide data-background-iframe=https://www.youtube.com/embed/szrsfeyLzyg></section><section><h4 id=some-apps>Some Apps</h4><div class=fragment <blockquote></blockquote><ul><li><a href=https://opnsense.org/about/about-opnsense/>OPNsense</a>: firewall and
router</li></ul></div><div class=fragment <blockquote></blockquote><ul><li><a href=https://github.com/paperless-ngx/paperless-ngx>Document management</a>
(<a href="https://demo.paperless-ngx.com/accounts/login/?next=/">Demo</a>): document
archive</li></ul></div><div class=fragment <blockquote></blockquote><ul><li><a href="https://foldingathome.org/diseases/?lng=en">Folding@home</a>: protein
simulations</li></ul></div><div class=fragment <blockquote></blockquote><ul><li><a href=https://miniflux.app/>Miniflux</a>: simple RSS reader</li></ul></div><div class=fragment <blockquote></blockquote><ul><li><a href=https://miniflux.app/>AdGuard Home</a> or
<a href=https://pi-hole.net/>Pi-hole</a>: DNS proxy
(<a href="https://www.ic3.gov/Media/Y2022/PSA221221?=8324278624">FBI warning</a>)</li></ul></div><div class=fragment <blockquote></blockquote><ul><li><a href=https://www.plex.tv>Plex</a>: stream home media</li></ul></div><div class=fragment <blockquote></blockquote><ul><li><a href=https://ntfy.sh>ntfy</a> (<a href=https://ntfy.sh/app>Demo</a>): pubsub push
notifications</li></ul></div><div class=fragment <blockquote></blockquote><ul><li><a href=https://www.home-assistant.io>Home Assistant</a>
(<a href=https://demo.home-assistant.io/>Demo</a>): home automation</li></ul></div></section><section><h3 id=home-assistant>Home Assistant</h3><blockquote class=twitter-tweet><p lang=en dir=ltr>you guys. my little sister‚Äôs boyfriend is a programmer. for her birthday he made her an app that has a button on it and when she presses the button, a light starts to blink in his room to let him know that she wants attention.</p>&mdash; ùñäùñíùñé (@grohliest) <a href="https://twitter.com/grohliest/status/1025944951123861504?ref_src=twsrc%5Etfw">August 5, 2018</a></blockquote><script async src=https://platform.twitter.com/widgets.js></script></section><section data-noprocess data-shortcode-slide data-background-image=homeassistant.png></section></section><section><section data-shortcode-section><h2 id=resources>Resources</h2><ul><li><a href=https://github.com/awesome-selfhosted/awesome-selfhosted>awesome-selfhosted</a></li><li>Subreddits: <a href=https://www.reddit.com/r/selfhosted/>selfhosted</a>,
<a href=https://www.reddit.com/r/homelab/>homelab</a>,
<a href=https://www.reddit.com/r/DataHoarder/>DataHoarder</a></li><li><a href=https://www.privacyguides.org/>Privacy Guides</a>
(<a href=https://www.reddit.com/r/privacytoolsIO/>PrivacyToolsIO subreddit</a>)</li></ul></section><section><h2 id=thank-you-to-our-sponsors>Thank you to our sponsors</h2><img src=austin.png alt=Austin width=300px><p><a href=https://netmanshop.com/>The NetMan Shop</a></p></section><section><p><a href=../homelabs>Homelab slideshow</a></p></section></section></div><div id=chalkboard-controls class=frontdrop style=display:none><ul><li><button title="Toggle chalkboard (B)" onclick=window.RevealChalkboard.toggleChalkboard() class="dim spacer-right"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentcolor" class="icon"><path stroke-linecap="round" stroke-linejoin="round" d="M16.862 4.487l1.687-1.688a1.875 1.875.0 112.652 2.652L10.582 16.07A4.5 4.5.0 018.685 17.2L6 18l.8-2.685a4.5 4.5.0 011.13-1.897l8.932-8.931zm0 0L19.5 7.125M18 14v4.75A2.25 2.25.0 0115.75 21H5.25A2.25 2.25.0 013 18.75V8.25A2.25 2.25.0 015.25 6H10"/></svg></button>
<button title="Toggle notes canvas (C)" onclick=window.RevealChalkboard.toggleNotesCanvas() class=dim><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentcolor" class="icon"><path stroke-linecap="round" stroke-linejoin="round" d="M16.862 4.487l1.687-1.688a1.875 1.875.0 112.652 2.652L6.832 19.82a4.5 4.5.0 01-1.897 1.13l-2.685.8.8-2.685a4.5 4.5.0 011.13-1.897L16.863 4.487zm0 0L19.5 7.125"/></svg></button></li></ul></div></div><script type=text/javascript src=/slides/reveal-hugo/object-assign.js></script>
<a href=/slides/reveal-js/css/print/ id=print-location style=display:none></a>
<script type=text/javascript>var printLocationElement=document.getElementById("print-location"),link=document.createElement("link");link.rel="stylesheet",link.type="text/css",link.href=printLocationElement.href+(window.location.search.match(/print-pdf/gi)?"pdf.css":"paper.css"),document.getElementsByTagName("head")[0].appendChild(link)</script><script type=application/json id=reveal-hugo-site-params>{"highlight_theme":"solarized-dark","theme":"moon"}</script><script type=application/json id=reveal-hugo-page-params>{"center":true,"history":true,"plugins":["plugins/chalkboard.js"]}</script><script src=/slides/reveal-js/js/reveal.js></script>
<script type=text/javascript>function camelize(e){return e&&Object.keys(e).forEach(function(t){newK=t.replace(/(_\w)/g,function(e){return e[1].toUpperCase()}),newK!=t&&(e[newK]=e[t],delete e[t])}),e}var revealHugoDefaults={center:!0,controls:!0,history:!0,progress:!0,transition:"slide"},revealHugoSiteParams=JSON.parse(document.getElementById("reveal-hugo-site-params").innerHTML),revealHugoPageParams=JSON.parse(document.getElementById("reveal-hugo-page-params").innerHTML),options=Object.assign({},camelize(revealHugoDefaults),camelize(revealHugoSiteParams),camelize(revealHugoPageParams));Reveal.initialize(options)</script><script type=text/javascript src=/slides/reveal-js/plugin/markdown/marked.js></script>
<script type=text/javascript src=/slides/reveal-js/plugin/markdown/markdown.js></script>
<script type=text/javascript src=/slides/reveal-js/plugin/highlight/highlight.js></script>
<script type=text/javascript src=/slides/reveal-js/plugin/zoom-js/zoom.js></script>
<script type=text/javascript src=/slides/reveal-js/plugin/notes/notes.js></script>
<script type=text/javascript src=/slides/plugins/chalkboard.js></script><header id=header class=no-print style=display:none><div class=flex><div id=viewer-count class="spacer-right text-center" style=display:none></div><button id=sync class="flex action dim" style=display:none><div id=sync-status-icon-active style=display:none><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentcolor"><path stroke-linecap="round" stroke-linejoin="round" d="M21 12A9 9 0 113 12a9 9 0 0118 0z"/><path stroke-linecap="round" stroke-linejoin="round" d="M15.91 11.672a.375.375.0 010 .656l-5.603 3.113a.375.375.0 01-.557-.328V8.887c0-.286.307-.466.557-.327l5.603 3.112z"/></svg></div><div id=sync-status-icon-inactive style=display:none><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentcolor" class="icon"><path stroke-linecap="round" stroke-linejoin="round" d="M14.25 9v6m-4.5.0V9M21 12A9 9 0 113 12a9 9 0 0118 0z"/></svg></div><div id=sync-status-text class="spacer-left nowrap"></div></button></div><div id=auth class=hidden><button id=sign-in class="flex action dim" title="Sign in"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon"><path d="M20 21v-2a4 4 0 00-4-4H8a4 4 0 00-4 4v2"/><circle cx="12" cy="7" r="4"/></svg></button><div id=firebase-ui class="no-print backdrop dropdown border flex column" style=display:none tabindex=0 aria-hidden=true><div><button id=firebase-ui-close class="flex action dim spacer-left" title=Close><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon"><line x1="18" y1="6" x2="6" y2="18"/><line x1="6" y1="6" x2="18" y2="18"/></svg></button></div></div><div class=relative><button id=user-menu class="dim flex action spacer-left" style=display:none title="User menu"><div id=username class="spacer-right nowrap" style=display:none></div><div id=user-icon class=flex></div></button><div id=user-dropdown class=dropdown style=display:none aria-hidden=true><div class="border backdrop"><button id=open-notes class="flex action dropdown-item" title="Open presentation notes"><div class="spacer-right nowrap">Notes</div><div class=icon-sm><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon"><path d="M14 2H6A2 2 0 004 4v16a2 2 0 002 2h12a2 2 0 002-2V8z"/><polyline points="14 2 14 8 20 8"/><line x1="16" y1="13" x2="8" y2="13"/><line x1="16" y1="17" x2="8" y2="17"/><polyline points="10 9 9 9 8 9"/></svg></div></button>
<button id=sign-out class="flex action dropdown-item" title="Open presentation notes"><div class="spacer-right nowrap">Sign out</div><div class=icon-sm><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon"><path d="M9 21H5a2 2 0 01-2-2V5a2 2 0 012-2h4"/><polyline points="16 17 21 12 16 7"/><line x1="21" y1="12" x2="9" y2="12"/></svg></div></button></div></div></div></div></header><script src=https://brettinternet.com/slides/scripts/main.js defer></script></body></html>